\begin{lstlisting}[language=JuliaLocal]
function ce_surrogate(S, ğŒ; m, m_elite, k_max)
    for k in 1:k_max
        mâ‚‘, m_elite = evaluation_schedule(k, k_max) # number of evaluations from a schedule
        ğ— = rand(ğŒ, mâ‚‘) # draw mâ‚‘ samples from ğŒ
        ğ˜ = map(S, eachcol(ğ—)) # evaluate samples ğ— using true objective S
        ğ = ğ—[:, sortperm(ğ˜)[1:m_elite]] # select elite samples output from true objective
        ğ„ = model_elite_set!(ğ—, ğ˜, ğŒ, ğ, m, m_elite) # find model-elites using a surrogate
        ğŒ = fit(ğŒ, ğ„) # re-fit distribution ğŒ using model-elite samples
    end
    return ğŒ
end
\end{lstlisting}
